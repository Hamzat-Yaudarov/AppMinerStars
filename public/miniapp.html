<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MineStars</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/public/miniapp.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">MineStars</header>
      <nav class="tab-bar">
        <button class="tab-btn" data-tab="profile">–ü—Ä–æ—Ñ–∏–ª—å</button>
        <button class="tab-btn" data-tab="mine">–®–∞—Ö—Ç–∞</button>
        <button class="tab-btn" data-tab="shop">–ú–∞–≥–∞–∑–∏–Ω</button>
        <button class="tab-btn" data-tab="games">–ò–≥—Ä—ã</button>
      </nav>
      <main class="tab-content">
        <section id="tab-profile" class="tab-panel active">
          <div class="profile-grid">
            <div class="profile-row"><span class="label">–ù–∏–∫:</span><span id="username" class="value"></span></div>
            <div class="profile-row"><span class="label">–ò–î:</span><span id="userId" class="value"></span></div>
            <div class="profile-row"><span class="label">–£—Ä. –∫–∏—Ä–∫–∏:</span><span id="pickaxeLevel" class="value"></span></div>
            <div class="profile-row"><span class="label">–ó–≤—ë–∑–¥—ã:</span><span id="stars" class="value"></span></div>
            <div class="profile-row"><span class="label">MCoin:</span><span id="mcoin" class="value"></span></div>
          </div>
          <div class="quick-actions">
            <div class="action-grid">
              <button id="inventoryOpen" class="primary-btn">üß∞ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
              <button id="sellOpen" class="primary-btn">üí∞ –ü—Ä–æ–¥–∞—Ç—å</button>
              <button id="exchangeOpen" class="primary-btn">üîÅ –û–±–º–µ–Ω–Ω–∏–∫</button>
              <button id="nftToggle" class="primary-btn">üñºÔ∏è NFT</button>
              <button id="topupOpen" class="primary-btn">‚ûï –ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
              <button id="withdrawOpen" class="primary-btn">‚¨áÔ∏è –í—ã–≤–µ—Å—Ç–∏</button>
            </div>
          </div>
          <div class="resources" style="display:none">
            <div class="res-row"><span class="label">–£–≥–æ–ª—å:</span><span id="coal" class="value"></span></div>
            <div class="res-row"><span class="label">–ú–µ–¥—å:</span><span id="copper" class="value"></span></div>
            <div class="res-row"><span class="label">–ñ–µ–ª–µ–∑–æ:</span><span id="iron" class="value"></span></div>
            <div class="res-row"><span class="label">–ó–æ–ª–æ—Ç–æ:</span><span id="gold" class="value"></span></div>
            <div class="res-row"><span class="label">–ê–ª–º–∞–∑:</span><span id="diamond" class="value"></span></div>
          </div>
          <div id="nftList" class="nft-list" style="display:none"></div>
        </section>
        <section id="tab-mine" class="tab-panel">
          <div class="mine-panel">
            <p class="mine-note">–ö–æ–ø–∞—Ç—å –º–æ–∂–Ω–æ —Ä–∞–∑ –≤ 3 —á–∞—Å–∞. –î–æ–±—ã—á–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ MC-–ª–∏–º–∏—Ç–æ–º —É—Ä–æ–≤–Ω—è.</p>
            <button id="mineBtn" class="primary-btn">–ö–æ–ø–∞—Ç—å</button>
            <div id="cooldownText" class="hint-text"></div>
            <pre id="mineResult" class="result-box"></pre>
          </div>
        </section>
        <section id="tab-shop" class="tab-panel">
          <div class="shop-cases">
            <div class="case-card">
              <div class="case-title">–ö–µ–π—Å ‚≠ê 100</div>
              <div class="case-desc">25‚≠ê (10%), 50‚≠ê (25%), 75‚≠ê (30%), 150‚≠ê (30%), 300‚≠ê (5%)</div>
              <button class="primary-btn" data-case="1">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
            <div class="case-card">
              <div class="case-title">–ö–µ–π—Å ‚≠ê 700</div>
              <div class="case-desc">Snoop Dogg (66%), Swag Bag (30%), Snoop Cigar (5%), Low Rider (1%)</div>
              <button class="primary-btn" data-case="2">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
          <div id="shopMsg" class="hint-text"></div>
          <div class="shop-panel">
            <button id="upgradeBtn" class="primary-btn">–ö—É–ø–∏—Ç—å/—É–ª—É—á—à–∏—Ç—å –∫–∏—Ä–∫—É</button>
            <div class="shop-row"><span class="label">–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∫–∏—Ä–∫–∏:</span><span id="shopPickaxe" class="value"></span></div>
            <div class="shop-row"><span class="label">–¶–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è:</span><span id="nextCost" class="value"></span></div>
          </div>
        </section>
        <section id="tab-games" class="tab-panel">
          <div class="games-panel">
            <div id="gamesStepSelect" class="games-step">
              <div class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É</div>
              <div class="shop-cases">
                <div class="case-card">
                  <div class="case-title">–õ–µ—Å–µ–Ω–∫–∞</div>
                  <div class="case-desc">–ü—Ä–æ–π–¥–∏ 7 —É—Ä–æ–≤–Ω–µ–π –∏ —É–º–Ω–æ–∂—å —Å—Ç–∞–≤–∫—É</div>
                  <button id="chooseLesenka" class="primary-btn">–í—ã–±—Ä–∞—Ç—å</button>
                </div>
              </div>
            </div>

            <div id="gamesStepStake" class="games-step hidden">
              <div class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–≤–∫—É</div>
              <div class="stake-grid">
                <button class="secondary-btn stake" data-v="10">10‚≠ê</button>
                <button class="secondary-btn stake" data-v="15">15‚≠ê</button>
                <button class="secondary-btn stake" data-v="25">25‚≠ê</button>
                <button class="secondary-btn stake" data-v="50">50‚≠ê</button>
                <button class="secondary-btn stake" data-v="150">150‚≠ê</button>
                <button class="secondary-btn stake" data-v="250">250‚≠ê</button>
                <button class="secondary-btn stake" data-v="300">300‚≠ê</button>
                <button class="secondary-btn stake" data-v="400">400‚≠ê</button>
                <button class="secondary-btn stake" data-v="500">500‚≠ê</button>
              </div>
              <div class="shop-row"><span class="label">–ò–≥—Ä–∞:</span><span id="chosenGame" class="value">‚Äî</span></div>
              <div class="shop-row"><span class="label">–°—Ç–∞–≤–∫–∞:</span><span id="chosenStake" class="value">‚Äî</span></div>
              <div style="display:flex;gap:10px;align-items:center">
                <button id="gameStartBtn" class="primary-btn">–ù–∞—á–∞—Ç—å</button>
                <button id="gameBackBtn" class="secondary-btn">–í–µ—Ä–Ω—É—Ç—å—Å—è</button>
              </div>
              <div id="gamesStakeMsg" class="hint-text"></div>
            </div>

            <div id="gamesStepPlay" class="games-step hidden">
              <div class="section-title">–õ–µ—Å–µ–Ω–∫–∞</div>
              <div>
                <button id="lesenkaCashout" class="secondary-btn">–ó–∞–±—Ä–∞—Ç—å</button>
                <button id="gamesReturnToSelect" class="secondary-btn">–ò–≥—Ä—ã</button>
              </div>
              <div class="shop-row"><span class="label">–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å:</span><span id="lesenkaLevel" class="value">‚Äî</span></div>
              <div class="ladder-grid" id="ladderGrid"></div>
              <div id="lesenkaMsg" class="hint-text"></div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <div id="modal" class="modal" style="display:none">
      <div class="modal-backdrop"></div>
      <div class="modal-content">
        <div class="modal-body" id="modalBody"></div>
        <div class="modal-actions"><button id="modalClose" class="secondary-btn">–ó–∞–∫—Ä—ã—Ç—å</button></div>
      </div>
    </div>

    <script src="/public/miniapp.js"></script>
  </body>
</html>
